<tr class="extrainfo inv">
	<div class="arrow-up"></div>
	
	<td colspan="4">
		<h3 class="text-center margintop0"><strong>Invoice for order number: {{ details.invoiceId }}</strong></h3>
		<hr>
		
		<table class="table table-striped">
			<thead>
				<tr style="font-weight:bold;">
					<td>Date</td>
					<td>Product</td>
					<td>Price</td>
					<td class="text-right">Actions</td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="products in details.products">
					<td>{{ products.date | date:'dd/MM/yyyy' }}</td>
					<td ng-click="editProduct($index)">{{ products.product }}</td>
					<td>{{ products.price | currency : "â‚¬" : 2 }}</td>
					<td class="text-right">
						<a href="#" class="btn btn-sm btn-primary hidden" ng-click="editProduct($index)">Edit product</a>
						
						<!-- Edit product -->
						<span ng-controller="modalController as $modal" class="modal-product">
							<button type="button" class="btn btn-sm btn-primary" ng-click="$modal.open(index)">Edit product</button>
						</span>
						
						<a href="#" class="btn btn-sm btn-danger" ng-click="deleteProduct($index)">Delete</a>
					</td>
				</tr>
			</tbody>
		</table>
		
		<hr>
		
		<div class="bottom-bar text-right">
			<!-- <a href="#" class="btn btn-default btn-sm disabled">Close</a> -->
			<a href="#" class="btn btn-success btn-sm" ng-click="editProduct(new)">Add invoice/product</a>
		</div>
	</td>	
</tr>






<div id="invoicemodal" ng-controller="modalController as $modal" class="modal-product">
    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h4 class="modal-title" ng-class="{ show: data.product.length > 0 }" id="modal-title"><strong>Edit product: </strong><span ng-modal="productName">{{ data.product }}</span></h4>
        </div>
        
        
        <div class="modal-body" id="modal-body">
			<!-- Info appends here -->
        </div>
        
        
        <div class="modal-footer">           
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button class="btn btn-danger" ng-disabled="productForm.product.$invalid || productForm.price.$invalid" type="button" ng-click="$modal.ok()">Save &amp; close</button>
        </div>
    </script>
</div>

